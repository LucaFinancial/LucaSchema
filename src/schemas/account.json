{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://raw.githubusercontent.com/LucaFinancial/LucaSchema/main/src/schemas/account.json",
  "title": "Account",
  "description": "Defines the schema for accounts within the chart of accounts for double-entry bookkeeping. Accounts represent the fundamental elements for tracking financial transactions with proper debit/credit classification.",
  "type": "object",
  "required": ["name", "accountNumber", "accountType", "isActive"],
  "allOf": [
    {
      "$ref": "./common.json"
    }
  ],
  "properties": {
    "name": {
      "type": "string",
      "title": "Account Name",
      "maxLength": 200,
      "description": "The name of the account (e.g., 'Cash', 'Accounts Receivable', 'Revenue')."
    },
    "description": {
      "type": ["string", "null"],
      "title": "Description",
      "maxLength": 500,
      "description": "A description of the account's purpose. This can be null if no description is provided."
    },
    "accountNumber": {
      "type": "string",
      "title": "Account Number",
      "pattern": "^[0-9]{1,10}$",
      "description": "A unique numeric identifier for the account within the chart of accounts (e.g., '1000', '2100')."
    },
    "accountType": {
      "type": "string",
      "title": "Account Type",
      "enum": ["ASSET", "LIABILITY", "EQUITY", "REVENUE", "EXPENSE"],
      "description": "The type of account according to the fundamental accounting equation. Assets and Expenses have debit balances; Liabilities, Equity, and Revenue have credit balances."
    },
    "parentAccountId": {
      "type": ["string", "null"],
      "title": "Parent Account ID",
      "format": "uuid",
      "description": "Optional reference to a parent account ID for hierarchical chart of accounts. Null for top-level accounts."
    },
    "isActive": {
      "type": "boolean",
      "title": "Is Active",
      "description": "Indicates whether the account is currently active and can be used for new transactions."
    }
  }
}
